mikan = <<~END
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000222222222222000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002222222222000000000022220000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000222222000000000000000000000000002222222200000000000000000000222200000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000002222222220000000000000000000000000222200000000000000000000000000002222000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000002222222220000000000000000000000000220000000000000000000000000000000022220000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000002222222220000000000000000000000022222222222222222222222200000000000000222200000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000022220000000000000000000000000022222200000000000000002222220000000000000022222200000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000022222200000022222200000000222200000000000000000000000000222222000000000000002222000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000222200002222002222220022222222222200000000000000000000000000222200000000000022222200000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000222200222200000000222222000000002200000000000000000000000000002222000000000000002222000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000222222220000000000000000000000000022000000000000000000000000000022000000000000000022220000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000222222000000000000000000000000000022000000000000000000000000000022220000000000000000220000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000002222000000000000000000000000000022000000000000000000000000000000220000000000000000220000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000022220000000000000000000000000000222200000000000000220000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000222222222200000000000000000000002200000000000000220000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000002222222222222200000000002222000000000000220000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000002222222222222200000000002222000000000000220000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111110000000000000000000000000000002222000000000022000000000000222200000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000111111000022220000000000000000111111110000000000000000000000000022220000000022220000000000002222000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000001111111111000000002222220000222200000000000000111111110000000000000000000000222200000000002222000000000022000000000000000000
  000000000000000000000000000000000000000000000000000000000000001111111100000000002222222222222222222200000000000000000000111111110000000000000000002222000000000000222222000022000000000000000000
  000000000000000000000000000000000000000000000000000000000011111100000000000000000000222222222200000000000000000000000000000000111111000000000000000022222200000000000022222222000000000000000000
  000000000000000000000000000000000000000000000000000000001111000000000000000000000000222222002222000000000000000000000000000000000000111111000000000000002222222222222200002222220000000000000000
  000000000000000000000000000000000000000000000000000011111100000000000000000000000022222200000022000000000000000000000000000000000000000011111111000000000000000000002222222222220000000000000000
  000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000000002222000000000000000000
  000000000000000000000000000000000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111000000000000000000000022220000000000000000
  000000000000000000000000000000000000000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000022220000000000000000
  000000000000000000000000000000000000000000111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111100000000000000000000220000000000000000
  000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111000000000000000000220000000000000000
  000000000000000000000000000000000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000220000000000000000
  000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111100000000000000222200000000000000
  000000000000000000000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111000000000000002222000000000000
  000000000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000022000000000000
  000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000
  000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000000000000
  000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111100000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000000000000000000000000
  000000000000000000000000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000000000000000000
  000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000
  000000000000000000000000000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000
  000000000000000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111100000000000000000000000000000000000000
  000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000
  000000000000000000000000000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111000000000000000000000000000000000000000000
  000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000001111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111100000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000111111000000000000000000000000000000000000000000000000000000000000000000000011110000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000011111100000000000000000000000000000000000000000000000000000000000000111111000000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000001111111100000000000000000000000000000000000000000000000011111111000000000000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000001111110000000000000000000000000000000000000000111111000000000000000000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000001111110000000000000000000000000000111111110000000000000000000000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
  000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
END

ORANGE = "\e[38;5;208m"
GREEN = "\e[38;5;34m"
RESET = "\e[0m"

def colored_mikan(data)
  colored = ''
  lines = data.split("\n")

  lines.each do |line|
    current_color = nil
    line.chars.each_with_index do |char, _i|
      if char == '2' # 葉っぱ
        if current_color != GREEN
          colored << RESET if current_color
          colored << GREEN
          current_color = GREEN
        end
        colored << '*' # 葉っぱの表示文字
      elsif char == '1' # みかん本体
        if current_color != ORANGE
          colored << RESET if current_color
          colored << ORANGE
          current_color = ORANGE
        end
        colored << '*' # みかん本体の表示文字
      else # 背景
        colored << ' ' # 背景は空白
      end
    end
    colored << RESET if current_color
    colored << "\n"
  end

  colored
end

colored_output = colored_mikan(mikan)

1000.times do |i|
  puts "\e[2J"
  y_pos = 10 + (Math.sin(i * 0.5) * 5).to_i
  puts "\e[#{y_pos};10H"
  puts colored_output
  sleep 0.1
end
